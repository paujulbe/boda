<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Boda Pau y Ana</title>
    <link rel="stylesheet" type="text/css" href="./styles/theme.css">
    <link rel="stylesheet" type="text/css" href="./icons/css/all.min.css">
    <link rel="icon" href="/img/icono.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css?family=Caveat|Quicksand&display=swap" rel="stylesheet">
    <!-- Required Core Stylesheet -->
    <link rel="stylesheet" href="node_modules/@glidejs/glide/dist/css/glide.core.min.css">
    <!-- Optional Theme Stylesheet -->
    <link rel="stylesheet" href="node_modules/@glidejs/glide/dist/css/glide.theme.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://apis.google.com/js/api.js"></script>
  </head>
  <body onload="location.href='#inicio'">
    <!-- SECCIÓN 1 -->
    <header class="header" id="inicio">
      <h1 class="heading">
        Pau & Ana
        <span class="heading-subtext">¡ Nos casamos ! <br>
        </span>
      </h1>
    </header>
    <!-- SECCIÓN 2 -->
    <section id="carousel" class="section">
      <h2 class="sub-heading">Overview</h2>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae perferendis ab harum voluptatem non dolorem atque vel adipisci.</p>
      <div class="glide">
        <div class="glide__track" data-glide-el="track">
          <ul class="glide__slides">
            <li class="glide__slide"><img src="./img/foto4.jpeg"></li>
            <li class="glide__slide"><img src="./img/foto6.jpeg"></li>
            <li class="glide__slide"><img src="./img/foto2.jpeg"></li>
            <li class="glide__slide"><img src="./img/foto3.jpeg"></li>
            <li class="glide__slide"><img src="./img/foto5.jpeg"></li>
          </ul>
        </div>
        <div class="glide__bullets" data-glide-el="controls[nav]">
          <button class="glide__bullet" data-glide-dir="=0"></button>
          <button class="glide__bullet" data-glide-dir="=1"></button>
          <button class="glide__bullet" data-glide-dir="=2"></button>
          <button class="glide__bullet" data-glide-dir="=3"></button>
          <button class="glide__bullet" data-glide-dir="=4"></button>
        </div>
      </div>
    </section>
    <!-- SECCIÓN 3 -->
    <section class="section" id="details">
      <h2 class="sub-heading">Por favor, rellena formulario</h2>
      <div class="details">
        <button class="button-74" role="button">Formulario</button>
      </div>
      <div class="details">
        <i class="fas fa-calendar-check"></i>
        <h3 class="details-heading">Cuándo</h3>
        <p>26 de Abril 2025</p>
        <button class="button-74" id="add-event">Add to calendar</button>

      </div>
      <div class="details">
        <i class="fas fa-map-marked-alt"></i>
        <h3 class="details-heading">Lugar</h3>
        <p><a rel="noopener" href="https://maps.app.goo.gl/PPQguQJhsjncFCVt5">Campaments L'Arcada</a></p>
        <iframe
          width="70%"
          height="fit-content"
          style="border:0"
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          src="https://www.google.com/maps/embed/v1/place?key=AIzaSyB3BkuWHKXlOpppuNESIArQ7kOyMdoYk7E&q=Paratge Can Goday s/n, 17831 Sant Miquel de Campmajor, Girona, España">
        </iframe>
        <div class="details">
          <i class="fas fa-plane-departure"></i>
          <h3 class="details-heading">PAGA</h3>
          <p>Si comes, pagas</p>
          <p>Numero de cuenta?</p>
        </div>
      </section>
      </div>
  </body>
  <script src="node_modules/@glidejs/glide/dist/glide.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {

      // Detectar si es un dispositivo móvil
      const isMobile = window.matchMedia("(max-width: 768px)").matches;
  
      // Configuración dinámica para Glide
      const glideOptions = {
        type: 'carousel',
        autoplay: 3000,
        focusAt: 'center',
        keyboard: true,
        gap: isMobile ? 100 : 0, // Gaps más pequeños en móviles
        perView: isMobile ? 2 : 2 , // 1 elemento visible en móvil, 3 en desktop
      };
  
      new Glide('.glide', glideOptions).mount();
  
      if (isMobile) {
        confetti({
          particleCount: 500,
          spread: 8000,
          origin: { x: 0.5, y: 0.9 },
        });
      } else {
        confetti({
          particleCount: 1600,
          spread: 10000,
          origin: { x: 1, y: 0.9 },
        });
        confetti({
          particleCount: 1000,
          spread: 10000,
          origin: { x: 0, y: 0.9 },
        });
      }
    });

    const event = {
      text: 'Boda Pau y Ana',
      dates: '20250426T150000Z/20250426T220000Z',
      details: '¡Nos casamos! ¡No te lo pierdas!',
      location: "L'Arcada Campaments, Sant Miquel de campajor, Girona, España",
   };

    const generateCalendarURL = (event) => {
     return `https://calendar.google.com/calendar/render?action=TEMPLATE` +
           `&text=${encodeURIComponent(event.text)}` +
           `&dates=${encodeURIComponent(event.dates)}` +
           `&details=${encodeURIComponent(event.details)}` +
           `&location=${encodeURIComponent(event.location)}`;
  };

  document.getElementById('add-event').addEventListener('click', () => {
    const calendarURL = generateCalendarURL(event);
    window.open(calendarURL, '_blank');
  });
  </script>  
</html>
