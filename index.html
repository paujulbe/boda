<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Boda Pau y Ana</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/img/icono.png" type="image/x-icon">
    <link rel="stylesheet" href="./styles/theme.css">
    <link rel="stylesheet" href="./icons/css/all.min.css">
    <link href="https://fonts.googleapis.com/css?family=Caveat|Quicksand&display=swap" rel="stylesheet">
    <!-- Glide.js Styles -->
    <link rel="stylesheet" href="node_modules/@glidejs/glide/dist/css/glide.core.min.css">
    <link rel="stylesheet" href="node_modules/@glidejs/glide/dist/css/glide.theme.min.css">
    <script src="https://apis.google.com/js/api.js"></script>
</head>
<body onload="location.href='#inicio'">
    <!-- AUDIO DE FONDO -->
    <audio id="backgroundMusic" loop>
        <source src="/audio/audio.mp3" type="audio/mp3">
    </audio>

    <!-- SECCIÓN 1: Encabezado -->
    <header class="header" id="inicio">
        <div id="aviso">Toca la pantalla y sube el volumen :)</div>
        <h1 class="heading">
            Pau & Ana
            <span class="heading-subtext">¡Nos casamos!</span>
        </h1>
    </header>

    <!-- SECCIÓN 2: Carrusel -->
    <section id="carousel" class="section">
        <h2 class="sub-heading">Nuestra historia</h2>
        <p>Dios cruzó nuestros caminos hace tres años de manera inesperada...</p>
        <div class="glide">
            <div class="glide__track" data-glide-el="track">
                <ul class="glide__slides">
                    <li class="glide__slide"><img src="./img/foto4.jpeg"></li>
                    <li class="glide__slide"><img src="./img/foto6.jpeg"></li>
                    <li class="glide__slide"><img src="./img/foto2.jpeg"></li>
                    <li class="glide__slide"><img src="./img/foto3.jpeg"></li>
                    <li class="glide__slide"><img src="./img/foto5.jpeg"></li>
                </ul>
            </div>
            <div class="glide__bullets" data-glide-el="controls[nav]">
                <button class="glide__bullet" data-glide-dir="=0"></button>
                <button class="glide__bullet" data-glide-dir="=1"></button>
                <button class="glide__bullet" data-glide-dir="=2"></button>
                <button class="glide__bullet" data-glide-dir="=3"></button>
                <button class="glide__bullet" data-glide-dir="=4"></button>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 3: Detalles del evento -->
    <section class="section" id="details">
        <h2 class="sub-heading">Asistencia</h2>
        <p>Por favor, rellena el formulario para confirmar asistencia</p>
        <div class="details">
            <button class="button-74" role="button" id="form">Formulario</button>
        </div>
        <div class="details">
            <i class="fas fa-calendar-check"></i>
            <h3 class="details-heading">Cuándo</h3>
            <p>26 de Abril 2025</p>
            <button class="button-74" id="add-event">Añadir al calendario</button>
        </div>
        <div class="details">
            <i class="fas fa-map-marked-alt"></i>
            <h3 class="details-heading">Lugar</h3>
            <p>Campaments L'Arcada, Sant Miquel de Campmajor, Banyoles, Girona</p>
            <div class="map-container">
                <iframe class="responsive-iframe" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyB3BkuWHKXlOpppuNESIArQ7kOyMdoYk7E&q=Paratge Can Goday s/n, 17831 Sant Miquel de Campmajor, Girona, España">
                </iframe>
            </div>
        </div>
        <div class="details">
            <i class="fas fa-question-circle"></i>
            <h3 class="details-heading">Nos puedes ayudar :)</h3>
            <p>Si quieres ayudarnos en lo económico, aquí te dejamos nuestro número de cuenta:</p>
            <strong>ES28 1465 0100 91 1762545689</strong>
            <p>Si prefieres regalarnos algo físico, aquí tienes nuestra lista de deseos de Amazon:</p>
            <button class="button-74" id="amazon">Lista Amazon</button>
        </div>
    </section>

    <!-- SCRIPTS -->
    <script src="node_modules/@glidejs/glide/dist/glide.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
    <script>
        // Botones para abrir enlaces externos
        document.getElementById('amazon').addEventListener('click', () => {
            window.open("https://www.amazon.es/hz/wishlist/ls/311IHY455T9WA?ref_=wl_share");
        });
        document.getElementById('form').addEventListener('click', () => {
            window.open("https://docs.google.com/forms/d/e/1FAIpQLSdfd6FbgoX3PHxVi7Ush7xkvn8oTgskfZgpBppKB3DInNCUoQ/viewform");
        });

        // Reproducción de música de fondo
        document.body.addEventListener('click', () => {
            const music = document.getElementById('backgroundMusic');
            music.play();
        }, { once: true });

        // Configuración del carrusel
        document.addEventListener("DOMContentLoaded", () => {
            const isMobile = window.matchMedia("(max-width: 768px)").matches;
            const glideOptions = {
                type: 'carousel',
                autoplay: 3000,
                focusAt: 'center',
                keyboard: true,
                gap: isMobile ? 100 : 30,
                perView: 2
            };
            new Glide('.glide', glideOptions).mount();
        });

        // Añadir evento al calendario
        document.getElementById('add-event').addEventListener('click', () => {
            const event = {
                text: 'Boda Pau y Ana',
                dates: '20250426T150000Z/20250426T220000Z',
                details: '¡Nos casamos! ¡No te lo pierdas!',
                location: "L'Arcada Campaments, Sant Miquel de campajor, Girona, España"
            };
            const calendarURL = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(event.text)}&dates=${encodeURIComponent(event.dates)}&details=${encodeURIComponent(event.details)}&location=${encodeURIComponent(event.location)}`;
            window.open(calendarURL, '_blank');
        });
    </script>
</body>
</html>
